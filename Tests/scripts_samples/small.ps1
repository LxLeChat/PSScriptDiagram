if ( $i -eq 10) {
    Foreach ( $a in $b) {
        ##do something
        ## ajouter un noeud nodecode
    }
} Else {
    ## Whathever
    ## ajouter un noeud nodecode
}